<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Ocxs&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Ocxs's blog">
<meta property="og:url" content="site:ocxs.coding.io/index.html">
<meta property="og:site_name" content="Ocxs's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ocxs's blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Ocxs&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/avatar.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ocxs</a></h1>
		</hgroup>

		
		<p class="header-subtitle">To be better</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/">关于</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/PAT/" style="font-size: 20px;">PAT</a> <a href="/tags/PAT-data-structure/" style="font-size: 20px;">PAT data structure</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">To be better!</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">ocxs</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/avatar.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">ocxs</h1>
			</hgroup>
			
			<p class="header-subtitle">To be better</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-150821-pat1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/21/150821-pat1/" class="article-date">
  	<time datetime="2015-08-20T16:03:40.000Z" itemprop="datePublished">2015-08-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/21/150821-pat1/">05-图1. List Components (25)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>For a given undirected graph with N vertices and E edges, please list all the connected components by both DFS and BFS. Assume that all the vertices are numbered from 0 to N-1. While searching, assume that we always start from the vertex with the smallest index, and visit its adjacent vertices in ascending order of their indices.<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/08/21/150821-pat1/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150820-pat1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/20/150820-pat1/" class="article-date">
  	<time datetime="2015-08-20T09:13:40.000Z" itemprop="datePublished">2015-08-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/150820-pat1/">05-图2. Saving James Bond - Easy Version (25)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This time let us consider the situation in the movie “Live and Let Die” in which James Bond, the world’s most famous spy, was captured by a group of drug dealers. He was sent to a small piece of land at the center of a lake filled with crocodiles. There he performed the most daring action to escape – he jumped onto the head of the nearest crocodile! Before the animal realized what was happening, James jumped again onto the next big head… Finally he reached the bank before the last crocodile could bite him (actually the stunt man was caught by the big mouth and barely escaped with his extra thick boot).<br>Assume that the lake is a 100 by 100 square one. Assume that the center of the lake is at (0,0) and the northeast corner at (50,50). The central island is a disk centered at (0,0) with the diameter of 15. A number of crocodiles are in the lake at various positions. Given the coordinates of each crocodile and the distance that James could jump, you must tell him whether or not he can escape.<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/08/20/150820-pat1/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150819-graph1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/19/150819-graph1/" class="article-date">
  	<time datetime="2015-08-19T05:52:36.000Z" itemprop="datePublished">2015-08-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/19/150819-graph1/">图（上）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="一-什么是图">一.什么是图</h2><h3 id="1-基本定义">1.基本定义</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构/">数据结构</a></li></ul>
	</div>

      

      
        <p class="article-more-link">
          <a  href="/2015/08/19/150819-graph1/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat16" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat16/" class="article-date">
  	<time datetime="2015-08-03T14:06:33.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat16/">04-树9. Path in a Heap</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_SIZE = <span class="number">1001</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MIN_DATA = -<span class="number">100001</span>;    <span class="comment">//set sentinel</span></span><br><span class="line"><span class="keyword">struct</span> Heap</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> *heapArray;     <span class="comment">//create dynamic array to storage element of heap</span></span><br><span class="line">    <span class="keyword">int</span> size;           <span class="comment">//the size of current heap</span></span><br><span class="line">    <span class="keyword">int</span> capacity;       <span class="comment">//the max size of heap</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> MinHeap</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MinHeap();</span><br><span class="line">    ~MinHeap()&#123;&#125;</span><br><span class="line">    <span class="function">Heap *<span class="title">CreateMinHeap</span><span class="params">(<span class="keyword">int</span> maxSize)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">IsFull</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">IsEmpty</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">InsertValMinHeap</span><span class="params">(<span class="keyword">int</span> val,Heap *&amp;MH)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">int</span> val)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">DeleteMaxValMinHeap</span><span class="params">(Heap *&amp;MH)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Delete</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">FindVal</span><span class="params">(<span class="keyword">int</span> position, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ans)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Heap *m_h;</span><br><span class="line">&#125;;</span><br><span class="line">MinHeap::MinHeap()</span><br><span class="line">&#123;</span><br><span class="line">    m_h = CreateMinHeap(MAX_SIZE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Heap *MinHeap::CreateMinHeap(<span class="keyword">int</span> maxSize)</span><br><span class="line">&#123;</span><br><span class="line">    Heap *tempH = <span class="keyword">new</span> Heap;</span><br><span class="line">    tempH-&gt;heapArray = <span class="keyword">new</span> <span class="keyword">int</span> [maxSize];</span><br><span class="line">    tempH-&gt;size = <span class="number">0</span>;</span><br><span class="line">    tempH-&gt;capacity = maxSize;</span><br><span class="line">    tempH-&gt;heapArray[<span class="number">0</span>] = MIN_DATA;</span><br><span class="line">    <span class="keyword">return</span> tempH;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> MinHeap::IsFull()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(m_h-&gt;size == m_h-&gt;capacity - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> MinHeap::IsEmpty()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(m_h-&gt;size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> MinHeap::Insert(<span class="keyword">int</span> val)</span><br><span class="line">&#123;</span><br><span class="line">    InsertValMinHeap(val, m_h);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> MinHeap::InsertValMinHeap(<span class="keyword">int</span> val, Heap *&amp;MH)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsFull())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"heap is full "</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = ++MH-&gt;size;</span><br><span class="line">    <span class="keyword">for</span>(; val &lt; MH-&gt;heapArray[i/<span class="number">2</span>]; i /= <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        MH-&gt;heapArray[i] = MH-&gt;heapArray[i/<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    MH-&gt;heapArray[i] = val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> MinHeap::DeleteMaxValMinHeap(Heap *&amp;MH)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(IsEmpty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"heap is empty "</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> maxData = MH-&gt;heapArray[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> tempVal = MH-&gt;heapArray[MH-&gt;size--];</span><br><span class="line">    <span class="keyword">int</span> parent = <span class="number">1</span>, child = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(; parent * <span class="number">2</span> &lt;= MH-&gt;size; parent = child)</span><br><span class="line">    &#123;</span><br><span class="line">        child = parent * <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>((child != MH-&gt;size) &amp;&amp; (MH-&gt;heapArray[child + <span class="number">1</span>] &lt; MH-&gt;heapArray[child]))</span><br><span class="line">        &#123;</span><br><span class="line">            ++child;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tempVal &lt;= MH-&gt;heapArray[child])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        MH-&gt;heapArray[parent] = MH-&gt;heapArray[child];</span><br><span class="line">    &#125;</span><br><span class="line">    MH-&gt;heapArray[parent] = tempVal;</span><br><span class="line">    <span class="keyword">return</span> maxData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> MinHeap::Delete()</span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">return</span> DeleteMaxValMinHeap(m_h);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> MinHeap::FindVal(<span class="keyword">int</span> position, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ans)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(position &lt; <span class="number">0</span> || position &gt; m_h-&gt;size)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"can't find element "</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = position; i &gt; <span class="number">0</span>; i /= <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans.push_back(m_h-&gt;heapArray[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> M = <span class="number">0</span>, N = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M &gt;&gt; N;</span><br><span class="line"> <span class="comment">//   vector&lt;int&gt; seqValVec;</span></span><br><span class="line">    MinHeap mh;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> val = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; val;</span><br><span class="line"> <span class="comment">//       seqValVec.push_back(val);</span></span><br><span class="line">        mh.Insert(val);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    mh.Delete();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; index;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">        mh.FindVal(index,ans);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ans.size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; ans[i] &lt;&lt; (i == ans.size() - <span class="number">1</span> ? <span class="string">"\n"</span>:<span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>多余的Delete操作没有删，<a href="https://www.zybuluo.com/mdeditor#127067" target="_blank" rel="external">源代码</a><br>其实只要将最小堆的插入删除创建写一遍就好了，这道题就迎刃而解了，我第一次提交没过，觉得可能是我数组定义小了，所以换成1000，还是没过，然后再换成1001，过了，所以最后一个测试点的数据大小应该是1000，因为我的<code>IsFull()</code>函数是判断<code>m_h-&gt;size == m_h-&gt;capacity - 1</code>，因为我们设置了哨兵，他也占了一个位置，哨兵的作用是为了再插入或者删除的循环体内让其达到边界就退出，不需要额外加一个<code>i&gt;0</code>.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat15" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat15/" class="article-date">
  	<time datetime="2015-08-03T14:06:29.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat15/">02-线性结构1. Reversing Linked List</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>###错误代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">struct</span> ListNode</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="built_in">string</span> next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Search</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode&gt; &amp;LnVec, <span class="built_in">string</span> address, <span class="built_in">string</span> &amp;next, <span class="keyword">int</span> &amp;position)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; LnVec.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(address == LnVec[i].address)</span><br><span class="line">        &#123;</span><br><span class="line">            position = i;</span><br><span class="line">            next = LnVec[i].next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> beginAddress;</span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">0</span>, K = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; beginAddress &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    <span class="built_in">vector</span>&lt;ListNode&gt; LnVec;</span><br><span class="line">    ListNode LN;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; LN.address &gt;&gt; LN.data &gt;&gt; LN.next;</span><br><span class="line">        LnVec.push_back(LN);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">stack</span>&lt;ListNode&gt; LnStk;</span><br><span class="line">    <span class="built_in">string</span> tempAddress = beginAddress;</span><br><span class="line">    <span class="built_in">string</span> tempNext;</span><br><span class="line">    <span class="keyword">int</span> reverseNum = N / K;     <span class="comment">//total reverse times</span></span><br><span class="line">    <span class="keyword">int</span> countNum  = <span class="number">0</span>;          <span class="comment">//actual reverse times</span></span><br><span class="line">    <span class="keyword">int</span> position = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        Search(LnVec, tempAddress, tempNext, position);</span><br><span class="line">        tempAddress = tempNext;</span><br><span class="line">        LnStk.push(LnVec[position]);</span><br><span class="line">        <span class="keyword">if</span>(LnStk.size() == K)</span><br><span class="line">        &#123;</span><br><span class="line">            ++countNum;</span><br><span class="line">            <span class="keyword">if</span>(countNum != <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; K; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; <span class="string">" "</span> &lt;&lt; LnStk.top().data &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">                LnStk.pop();</span><br><span class="line">                <span class="keyword">if</span>(!LnStk.empty())</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; endl;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(countNum == reverseNum)  <span class="comment">//check reverse times</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; tempNext &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(tempNext != <span class="string">"-1"</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Search(LnVec, tempAddress, tempNext, position);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; LnVec[position].address &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; LnVec[position].data &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; LnVec[position].next &lt;&lt; endl;</span><br><span class="line">        tempAddress = tempNext;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面这段代码可以通过PAT的前五个测试点，最后两个测试点却过不了，参考mooc中这道题的讲解，说明了最后一个测试点是有多余的结点的，比如：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">00000</span> <span class="number">6</span> <span class="number">3</span></span><br><span class="line"><span class="number">00000</span> <span class="number">0</span> <span class="number">00001</span></span><br><span class="line"><span class="number">00001</span> <span class="number">1</span> <span class="number">00002</span></span><br><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">00003</span></span><br><span class="line"><span class="number">00003</span> <span class="number">3</span> <span class="number">00004</span></span><br><span class="line"><span class="number">00004</span> <span class="number">4</span> -<span class="number">1</span></span><br><span class="line"><span class="number">00005</span> <span class="number">5</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>可以看出最后一个结点是多余的，因为到结点<code>00004 4 -1</code>就结束了，最后一个结点没用，所以正确的反转顺序是</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">00001</span></span><br><span class="line"><span class="number">00001</span> <span class="number">1</span> <span class="number">00000</span></span><br><span class="line"><span class="number">00000</span> <span class="number">0</span> <span class="number">00003</span></span><br><span class="line"><span class="number">00003</span> <span class="number">3</span> <span class="number">00004</span></span><br><span class="line"><span class="number">00004</span> <span class="number">4</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>修改后的代码如下：<br>（测试点6过了，但是测试点5仍然过不了，运行超时错误）<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">struct</span> ListNode</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="built_in">string</span> next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Search</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode&gt; &amp;LnVec, <span class="built_in">string</span> address, <span class="built_in">string</span> &amp;next, <span class="keyword">int</span> &amp;position)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; LnVec.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(address == LnVec[i].address)</span><br><span class="line">        &#123;</span><br><span class="line">            position = i;</span><br><span class="line">            next = LnVec[i].next;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> beginAddress;</span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">0</span>, K = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; beginAddress &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    <span class="built_in">vector</span>&lt;ListNode&gt; LnVec;</span><br><span class="line">    ListNode LN;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; LN.address &gt;&gt; LN.data &gt;&gt; LN.next;</span><br><span class="line">        LnVec.push_back(LN);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">stack</span>&lt;ListNode&gt; LnStk;</span><br><span class="line">    <span class="built_in">string</span> tempAddress = beginAddress;</span><br><span class="line">    <span class="built_in">string</span> tempNext;</span><br><span class="line">    <span class="keyword">int</span> reverseNum = N / K;     <span class="comment">//total reverse times</span></span><br><span class="line">    <span class="keyword">int</span> countNum  = <span class="number">0</span>;          <span class="comment">//actual reverse times</span></span><br><span class="line">    <span class="keyword">int</span> position = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(Search(LnVec, tempAddress, tempNext, position))</span><br><span class="line">        &#123;</span><br><span class="line">            tempAddress = tempNext;</span><br><span class="line">            LnStk.push(LnVec[position]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(!LnStk.empty() &amp;&amp; LnStk.size() != <span class="number">1</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                LnStk.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt;endl;</span><br><span class="line">            tempAddress = LnStk.top().address;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(LnStk.size() == K)</span><br><span class="line">        &#123;</span><br><span class="line">            ++countNum;</span><br><span class="line">            <span class="keyword">if</span>(countNum != <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; K; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; <span class="string">" "</span> &lt;&lt; LnStk.top().data &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">                LnStk.pop();</span><br><span class="line">                <span class="keyword">if</span>(!LnStk.empty())</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; endl;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(countNum == reverseNum)  <span class="comment">//check reverse times</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; tempNext &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(tempAddress != <span class="string">"-1"</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Search(LnVec, tempAddress, tempNext, position);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; LnVec[position].address &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; LnVec[position].data &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; LnVec[position].next &lt;&lt; endl;</span><br><span class="line">        tempAddress = tempNext;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>超时错误，从代码中知道自己在for循环里加了Search函数，<br>search函数搜索是遍历整个vector函数来搜索，这样就导致了算法的复杂度是O(n^2);所以需要优化，看网上有人直接以数组存储，直接创建大小为100000的数组，以空间来换时间，这种方法应该可行，但是不太好，我参考<a href="http://boweihe.me/?p=1464" target="_blank" rel="external">这篇文章</a>,使用map，将地址当作key，这样就不用查找，会降低耗时。（map查找速率是O(logn))<br>下面是AC代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">struct</span> ListNode</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="built_in">string</span> next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> beginAddress;</span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">0</span>, K = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; beginAddress &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>,ListNode&gt; LnMap;</span><br><span class="line">    ListNode LN;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; LN.address &gt;&gt; LN.data &gt;&gt; LN.next;</span><br><span class="line">        LnMap[LN.address] = LN;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">stack</span>&lt;ListNode&gt; LnStk;</span><br><span class="line">    <span class="built_in">string</span> tempAddress = beginAddress;</span><br><span class="line">    <span class="built_in">string</span> tempNext;</span><br><span class="line">    <span class="keyword">int</span> reverseNum = N / K;     <span class="comment">//total reverse times</span></span><br><span class="line">    <span class="keyword">int</span> countNum  = <span class="number">0</span>;          <span class="comment">//actual reverse times</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(tempAddress != <span class="string">"-1"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            LnStk.push(LnMap[tempAddress]);</span><br><span class="line">            tempAddress = LnStk.top().next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>        <span class="comment">//防止出现多余的结点，主要是应对最后一个测试点</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(!LnStk.empty() &amp;&amp; LnStk.size() != <span class="number">1</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                LnStk.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt;endl;</span><br><span class="line">            tempAddress = LnStk.top().address;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(LnStk.size() == K)  <span class="comment">//reverse </span></span><br><span class="line">        &#123;</span><br><span class="line">            ++countNum;</span><br><span class="line">            <span class="keyword">if</span>(countNum != <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; K; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; <span class="string">" "</span> &lt;&lt; LnStk.top().data &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">                LnStk.pop();</span><br><span class="line">                <span class="keyword">if</span>(!LnStk.empty())</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; LnStk.top().address &lt;&lt; endl;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(countNum == reverseNum)  <span class="comment">//check reverse times</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; tempAddress &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(tempAddress != <span class="string">"-1"</span>)  <span class="comment">//遍历剩下的N%K个结点</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; LnMap[tempAddress].address &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; LnMap[tempAddress].data &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; LnMap[tempAddress].next &lt;&lt; endl;</span><br><span class="line">        tempAddress = LnMap[tempAddress].next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我采用的是用栈来存储需要reverse的元素，然后栈的size达到K，pop序列即是reverse后的顺序，但是需要注意的是要考虑到每次reverse后，这一段元素的最后一个Next地址是下一段元素的Address，所以才会有countNum是否为1，栈是否为空的判断，因为每个段reverse序列的最后一个元素，即栈底元素的next是作废的，不应该遍历出来，他的next应该是下一段reverse序列的首元素的地址。这是一种取巧行为，实际上并没有按照出题者的意图通过真正的reverse 链表来操作，黑盒测试，只是输出了结果。</p>
<p>上传截图很麻烦，直接copy结果过来如下：<br>测试结果：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>	答案正确	<span class="number">1</span>	<span class="number">180</span>	<span class="number">12</span>/<span class="number">12</span></span><br><span class="line"><span class="number">1</span>	答案正确	<span class="number">1</span>	<span class="number">308</span>	<span class="number">3</span>/<span class="number">3</span></span><br><span class="line"><span class="number">2</span>	答案正确	<span class="number">1</span>	<span class="number">308</span>	<span class="number">2</span>/<span class="number">2</span></span><br><span class="line"><span class="number">3</span>	答案正确	<span class="number">1</span>	<span class="number">308</span>	<span class="number">2</span>/<span class="number">2</span></span><br><span class="line"><span class="number">4</span>	答案正确	<span class="number">1</span>	<span class="number">308</span>	<span class="number">2</span>/<span class="number">2</span></span><br><span class="line"><span class="number">5</span>	答案正确	<span class="number">379</span>	<span class="number">19380</span>	<span class="number">3</span>/<span class="number">3</span></span><br><span class="line"><span class="number">6</span>	答案正确	<span class="number">1</span>	<span class="number">256</span>	<span class="number">1</span>/<span class="number">1</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat14" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat14/" class="article-date">
  	<time datetime="2015-08-03T14:06:24.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat14/">02-线性结构2. 一元多项式求导</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>代码如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ivec;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>, a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; a)</span><br><span class="line">    &#123;</span><br><span class="line">        ivec.push_back(n);</span><br><span class="line">        ivec.push_back(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ivec_size = ivec.size();</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ivec2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ivec_size; i += <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line"><span class="comment">//        if(ivec[i] == 0)</span></span><br><span class="line"><span class="comment">//        &#123;</span></span><br><span class="line"><span class="comment">//            cout &lt;&lt; 0 &lt;&lt; " " &lt;&lt; 0 &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">if</span>(ivec[i + <span class="number">1</span>] != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ivec2.push_back(ivec[i] * ivec[i + <span class="number">1</span>]);</span><br><span class="line">            ivec2.push_back(ivec[i + <span class="number">1</span>] - <span class="number">1</span>);</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"0 0"</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ivec2.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ivec2[i] &lt;&lt; ((i == ivec2.size() - <span class="number">1</span>)? <span class="string">"\n"</span>:<span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这一题的坑我相信大家都能看到，<strong>结尾不能有多余空格。注意“零多项式”的指数和系数都是0，但是表示为“0 0”。</strong><br>但是应该有人跟我一样，不得其意，我是根据网上已经AC的代码，然后跑对拍程序，找出bug的。<br>测试点1和4应该以一种类型数据，如<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">0</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">0</span> <span class="number">5</span> <span class="number">6</span> <span class="number">6</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>这样的数据，输出应该是<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6 2 30 5(&#32467;&#23614;&#27809;&#26377;&#31354;&#26684;&#65289;</span><br></pre></td></tr></table></figure></p>
<p>有非零数据项时，就不需要输出 0 0 了。<br>如果这样的测试数据<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">0</span> <span class="number">4</span> <span class="number">0</span> <span class="comment">//或10 0</span></span><br></pre></td></tr></table></figure></p>
<p>输出应该是<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>PAT上此题本意是mooc数据结构中线性结构那一块讲完了，想让大家用链表来做，我偷个懒用<code>vector</code>来做，更方便。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat13" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat13/" class="article-date">
  	<time datetime="2015-08-03T14:06:20.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat13/">02-线性结构3. 求前缀表达式的值</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_SIZE = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">struct</span> Stack</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">string</span> data[MAX_SIZE];</span><br><span class="line">  <span class="keyword">int</span> top;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> c02_3</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  c02_3();</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="built_in">string</span> element)</span></span>;</span><br><span class="line">  <span class="function"><span class="built_in">string</span> <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">result</span><span class="params">(<span class="built_in">string</span> str)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">recursion</span><span class="params">(<span class="built_in">string</span> str)</span></span>;</span><br><span class="line">  <span class="function"><span class="built_in">string</span> <span class="title">compute</span><span class="params">(<span class="built_in">string</span> str1, <span class="built_in">string</span> str2, <span class="built_in">string</span> str3)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">isFull</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">isStr</span><span class="params">(<span class="built_in">string</span> str)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  Stack m_stack;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">c02_3::c02_3()</span><br><span class="line">&#123;</span><br><span class="line">  m_stack.top = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">string</span> c02_3::pop()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (-<span class="number">1</span> == m_stack.top)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"the stack is empty!"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> m_stack.data[m_stack.top--];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> c02_3::push(<span class="built_in">string</span> element)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (MAX_SIZE == m_stack.top)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"the stack is full!"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    m_stack.data[++m_stack.top] = element;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> c02_3::isEmpty()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (m_stack.top == -<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> c02_3::isFull()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (m_stack.top == MAX_SIZE - <span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> c02_3::result(<span class="built_in">string</span> str)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (isStr(str))</span><br><span class="line">  &#123;</span><br><span class="line">    push(str);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    recursion(str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> c02_3::isStr(<span class="built_in">string</span> str)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (str == <span class="string">"+"</span> || str == <span class="string">"-"</span> || str == <span class="string">"*"</span> || str == <span class="string">"/"</span> || str == <span class="string">"ERROR"</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (!str.empty())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">string</span> c02_3::compute(<span class="built_in">string</span> str1, <span class="built_in">string</span> str2, <span class="built_in">string</span> str3)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">double</span> a = <span class="number">0.0</span>, b = <span class="number">0.0</span>, c = <span class="number">0.0</span>;</span><br><span class="line">  a = atof(str2.c_str());</span><br><span class="line">  b = atof(str3.c_str());</span><br><span class="line">  <span class="built_in">stringstream</span> ss;</span><br><span class="line">  <span class="built_in">string</span> str4;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"+"</span> == str1)</span><br><span class="line">  &#123;</span><br><span class="line">    c = a + b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"-"</span> == str1)</span><br><span class="line">  &#123;</span><br><span class="line">    c = a - b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"*"</span> == str1)</span><br><span class="line">  &#123;</span><br><span class="line">    c = a * b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"/"</span> == str1)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span> == b)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"ERROR"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    c = a / b;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  ss &lt;&lt; c;</span><br><span class="line">  ss &gt;&gt; str4;</span><br><span class="line">  <span class="keyword">return</span> str4;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> c02_3::recursion(<span class="built_in">string</span> str)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (!isEmpty() &amp;&amp; !isStr(m_stack.data[m_stack.top]))</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">string</span> strTemp = compute(m_stack.data[m_stack.top - <span class="number">1</span>], m_stack.data[m_stack.top], str);</span><br><span class="line">    pop();</span><br><span class="line">    pop();</span><br><span class="line">    recursion(strTemp);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    push(str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> c02_3::print()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">string</span> str = pop();</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"ERROR"</span> == str)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"ERROR"</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (isStr(str))</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"ERROR"</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (m_stack.top &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"ERROR"</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (m_stack.top == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="string">"*"</span> == m_stack.data[m_stack.top] || <span class="string">"/"</span> == m_stack.data[m_stack.top])</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"ERROR"</span> &lt;&lt; endl;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">float</span> f1 = atof(str.c_str());</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">1</span>) &lt;&lt; f1 &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">  c02_3 m_a;</span><br><span class="line">  <span class="built_in">string</span> str;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; str)</span><br><span class="line">  &#123;</span><br><span class="line">    m_a.result(str);</span><br><span class="line">  &#125;</span><br><span class="line">  m_a.print();</span><br><span class="line"><span class="comment">//  system("pause");</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是我第一次在编译器上调好，在oj上测试一次性直接通过的代码啊，泪奔！<br>写的比较烦，因为这是数据结构mooc上的作业，本意就是想让我们用数据结构自己写一个堆栈来做，当然我们也可以自己不写堆栈来做，直接用C++中STL里面的<code>stack</code>来做，这样就不用自己构造堆栈了！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat12" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat12/" class="article-date">
  	<time datetime="2015-08-03T14:06:15.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat12/">04-树7. Search in a Binary Search Tree</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Compute</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ivec, <span class="keyword">int</span> position, <span class="keyword">bool</span> flag)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = position + <span class="number">2</span>; i &lt; ivec.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(flag)        <span class="comment">//if flag is true, all element should greater than vector[position]</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(ivec[i] &lt;= ivec[position])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>    <span class="comment">//if flag is false, all element should less than vector[position]</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(ivec[i] &gt;= ivec[position])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Check</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ivec)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ivec.size() &lt; <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; ivec.size(); ++j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(ivec[j] &gt; ivec[j-<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!Compute(ivec, j-<span class="number">1</span>, <span class="literal">true</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ivec[j] &lt; ivec[j-<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!Compute(ivec, j-<span class="number">1</span>, <span class="literal">false</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>        <span class="comment">//if they are equal ,return false</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">0</span>, M = <span class="number">0</span>;<span class="comment">//N is number of test cases, M is size of each sequence</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> val = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ivec;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; val;</span><br><span class="line">            ivec.push_back(val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(Check(ivec))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>又是一个一遍就AC的代码，不过写的不好，时间复杂度非常高。<br>思路：<br>因为是二叉搜索树，必定遵循的原则就是：右&gt;根&gt;左。<br>举例来说：序列：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">4</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<p>4 &gt; 1,意味着4是右子树，同时也意味着4后面所有的元素都是右子树中的元素（注意题目说了这是搜索路径），这就说明4后面的所有元素都要大于1才正确，同理类推，2&lt;4，所以2是4的左子树，2后面所有的元素都要小于4才正确。依次类推，全部符合要求即输出YES，否则输出NO。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat11" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat11/" class="article-date">
  	<time datetime="2015-08-03T14:06:11.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat11/">04-树6. Huffman Codes</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>代码如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_SIZE = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">struct</span> Compare;</span><br><span class="line"><span class="keyword">struct</span> HuffmanNode</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> node;</span><br><span class="line">    <span class="keyword">int</span> weight;</span><br><span class="line">    HuffmanNode *left, *right;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">lessthan</span><span class="params">(<span class="keyword">const</span> HuffmanNode* hNode)</span> <span class="keyword">const</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> weight &gt; hNode-&gt;weight;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    bool operator &lt; (const HuffmanNode* &amp;a) const</span></span><br><span class="line"><span class="comment">//    &#123;</span></span><br><span class="line"><span class="comment">//        return weight &lt;= a-&gt;weight;         //最小值优先</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    HuffmanNode(<span class="keyword">char</span> ch) : node(ch), weight(<span class="number">0</span>), left(<span class="literal">NULL</span>), right(<span class="literal">NULL</span>)  &#123;&#125;;</span><br><span class="line">    HuffmanNode(<span class="keyword">char</span> ch, <span class="keyword">int</span> w) : node(ch), weight(w), left(<span class="literal">NULL</span>), right(<span class="literal">NULL</span>)  &#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Compare</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(HuffmanNode *hNode1, HuffmanNode *hNode2)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hNode1-&gt;lessthan(hNode2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> HuffmanTree</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    HuffmanTree();</span><br><span class="line">    ~HuffmanTree();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Release</span><span class="params">(HuffmanNode *hf)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">CreateHuffmanTree</span><span class="params">(priority_queue&lt;HuffmanNode*, <span class="built_in">vector</span>&lt;HuffmanNode*&gt;, Compare&gt; pq, <span class="keyword">int</span> N)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">char</span> node, <span class="built_in">string</span> huffmanCode, <span class="keyword">int</span> &amp;flag, <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; &amp;hMap)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Check</span><span class="params">(<span class="keyword">int</span> &amp;flag, <span class="keyword">int</span> &amp;mWPL, <span class="keyword">int</span> WPL)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">levelOrder</span><span class="params">(HuffmanNode *hNode, <span class="keyword">int</span> &amp;mWPL)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(HuffmanNode *hNode, <span class="keyword">int</span> &amp;WPL, <span class="keyword">int</span> mCase)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ComputeWPL</span><span class="params">(<span class="keyword">int</span> &amp;WPL)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">GetHeight</span><span class="params">(HuffmanNode *hNode)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    HuffmanNode *root;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">HuffmanTree::HuffmanTree()</span><br><span class="line">&#123;</span><br><span class="line">    root = <span class="keyword">new</span> HuffmanNode(<span class="string">'-'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">HuffmanTree::~HuffmanTree()</span><br><span class="line">&#123;</span><br><span class="line">    Release(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> HuffmanTree::Release(HuffmanNode *hf)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(hf != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Release(hf-&gt;left);</span><br><span class="line">        Release(hf-&gt;right);</span><br><span class="line">        <span class="keyword">delete</span> hf;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> HuffmanTree::Insert(<span class="keyword">char</span> node, <span class="built_in">string</span> huffmanCode, <span class="keyword">int</span> &amp;flag, <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; &amp;hMap)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> length = huffmanCode.size();</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    HuffmanNode *hNode = root;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; length)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(huffmanCode[i] == <span class="string">'0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(hNode-&gt;left != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(hNode-&gt;node != <span class="string">'-'</span> || i == length - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"No"</span> &lt;&lt; endl;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == length - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    hNode-&gt;left = <span class="keyword">new</span> HuffmanNode(node, hMap[node]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    hNode-&gt;left = <span class="keyword">new</span> HuffmanNode(<span class="string">'-'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            hNode = hNode-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(hNode-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(hNode-&gt;node != <span class="string">'-'</span> || i == length - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">"No"</span> &lt;&lt; endl;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == length - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    hNode-&gt;right = <span class="keyword">new</span> HuffmanNode(node, hMap[node]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    hNode-&gt;right = <span class="keyword">new</span> HuffmanNode(<span class="string">'-'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            hNode = hNode-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        ++i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> HuffmanTree::Check(<span class="keyword">int</span> &amp;flag, <span class="keyword">int</span> &amp;mWPL, <span class="keyword">int</span> WPL)</span><br><span class="line">&#123;</span><br><span class="line">    postOrder(root, mWPL, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(WPL != mWPL)</span><br><span class="line">    &#123;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"No"</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    if(!levelOrder(root, mWPL) || WPL != mWPL)</span></span><br><span class="line"><span class="comment">//    &#123;</span></span><br><span class="line"><span class="comment">//        flag = 0;</span></span><br><span class="line"><span class="comment">//        cout &lt;&lt; "No" &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//bool HuffmanTree::levelOrder(HuffmanNode *hNode, int &amp;WPL)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    HuffmanNode *Q[MAX_SIZE], *temp;</span></span><br><span class="line"><span class="comment">//    int rear = -1, front = -1;</span></span><br><span class="line"><span class="comment">//    Q[++rear] = hNode;</span></span><br><span class="line"><span class="comment">//    while(rear != front)</span></span><br><span class="line"><span class="comment">//    &#123;</span></span><br><span class="line"><span class="comment">//        temp = Q[++front];</span></span><br><span class="line"><span class="comment">//        if(temp-&gt;left != NULL &amp;&amp; temp-&gt;right != NULL)</span></span><br><span class="line"><span class="comment">//        &#123;</span></span><br><span class="line"><span class="comment">//            Q[++rear] = temp-&gt;left;</span></span><br><span class="line"><span class="comment">//            Q[++rear] = temp-&gt;right;</span></span><br><span class="line"><span class="comment">//            WPL += temp-&gt;weight;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        else if(temp-&gt;left == NULL &amp;&amp; temp-&gt;right == NULL)</span></span><br><span class="line"><span class="comment">//        &#123;</span></span><br><span class="line"><span class="comment">//            ;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        else</span></span><br><span class="line"><span class="comment">//        &#123;</span></span><br><span class="line"><span class="comment">//            return false;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    return true;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">void</span> HuffmanTree::CreateHuffmanTree(priority_queue&lt;HuffmanNode*, <span class="built_in">vector</span>&lt;HuffmanNode*&gt;, Compare&gt; pq, <span class="keyword">int</span> N)</span><br><span class="line">&#123;</span><br><span class="line">    HuffmanNode *hNode;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N - <span class="number">1</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        hNode = <span class="keyword">new</span> HuffmanNode(<span class="string">'-'</span>, <span class="number">0</span>);</span><br><span class="line">        hNode-&gt;left = pq.top();</span><br><span class="line">        pq.pop();</span><br><span class="line">        hNode-&gt;right = pq.top();</span><br><span class="line">        pq.pop();</span><br><span class="line">        hNode-&gt;weight = hNode-&gt;left-&gt;weight + hNode-&gt;right-&gt;weight; <span class="comment">//这一步可以省略，后面postOrder函数中重复计算了</span></span><br><span class="line">        pq.push(hNode);</span><br><span class="line">    &#125;</span><br><span class="line">    root = hNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> HuffmanTree::ComputeWPL(<span class="keyword">int</span> &amp;WPL)</span><br><span class="line">&#123;</span><br><span class="line">    postOrder(root, WPL, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> HuffmanTree::postOrder(HuffmanNode *hNode, <span class="keyword">int</span> &amp;WPL, <span class="keyword">int</span> mCase)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(hNode != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        postOrder(hNode-&gt;left, WPL, mCase);</span><br><span class="line">        postOrder(hNode-&gt;right, WPL, mCase);</span><br><span class="line">        <span class="keyword">if</span>(hNode-&gt;left != <span class="literal">NULL</span> &amp;&amp; hNode-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            hNode-&gt;weight = hNode-&gt;left-&gt;weight + hNode-&gt;right-&gt;weight;</span><br><span class="line">            WPL += hNode-&gt;weight;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">0</span>;  <span class="comment">//N is the number of character</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    priority_queue&lt;HuffmanNode*, <span class="built_in">vector</span>&lt;HuffmanNode*&gt;, Compare&gt; pqHuffmanCode;  <span class="comment">//最小值优先级队列</span></span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; hMap;</span><br><span class="line">    <span class="keyword">int</span> WPL = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="keyword">int</span> w = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; ch &gt;&gt; w;</span><br><span class="line">        hMap[ch] = w;</span><br><span class="line">        HuffmanNode *ln = <span class="keyword">new</span> HuffmanNode(ch, w);</span><br><span class="line">        pqHuffmanCode.push(ln);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    while(!pqHuffmanCode.empty())</span></span><br><span class="line"><span class="comment">//    &#123;</span></span><br><span class="line"><span class="comment">//        cout &lt;&lt; pqHuffmanCode.top()-&gt;node &lt;&lt; " " &lt;&lt; pqHuffmanCode.top()-&gt;weight &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">//        pqHuffmanCode.pop();</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    cout &lt;&lt; endl;</span></span><br><span class="line">    HuffmanTree ht;</span><br><span class="line">    ht.CreateHuffmanTree(pqHuffmanCode, N);</span><br><span class="line">    ht.ComputeWPL(WPL);</span><br><span class="line"><span class="comment">//    cout &lt;&lt; "WPL is : " &lt;&lt; WPL &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> M = <span class="number">0</span>;  <span class="comment">//M is number of student submissions</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        HuffmanTree hTree;</span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> mWPL = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> nodeVal;</span><br><span class="line">            <span class="built_in">string</span> code;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; nodeVal &gt;&gt; code;</span><br><span class="line">            <span class="keyword">if</span>(flag)</span><br><span class="line">            &#123;</span><br><span class="line">                hTree.Insert(nodeVal, code, flag, hMap);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag &amp;&amp; N &gt; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            hTree.Check(flag, mWPL, WPL);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"Yes"</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这道题搞了两天，第一次写完往上测试，最后一个点过不了，测试点3说段错误，第一次的算法是先判断是不是叶子结点，如果都是叶子结点在判断树的所有结点是不是有度为1的结点，如果有说明不是哈夫曼树，但是这种方法由于最后一个测试点和测试点3过不了，还是老老实实算WPL，然后刚开始准备用最小堆来做，但是感觉最小堆做实在是麻烦，虽然最小堆已经写过了，后来在网上看别人的代码，有的人也没有实际建立哈夫曼树。<br>    而是用<code>STL</code>里的优先队列，然后就百度百度<code>priority_queue</code>怎么用的，参见<a href="http://www.cnblogs.com/carbs/archive/2012/04/04/2431992.html" target="_blank" rel="external">这篇文章</a>用的过程中设计到排序，由于我的优先队列元素是结构体，我要用优先队列模拟最小堆，然后建立哈夫曼树，所以我的优先队列的元素就变成了结构体指针，然后如果优先队列的元素如果是结构体，则须重载运算符，但是如果是（结构体）指针，却没有这种用法，然后百度找了<a href="http://blog.csdn.net/liuzhanchen1987/article/details/7856893" target="_blank" rel="external">这篇文章</a>解决了我的问题，这样就可以保证每次 <code>push</code>操作后，<code>top()</code>是最小的。<br>    然后创建哈夫曼树的算法就是按照mooc里讲的，计算WPL，我并没有按照<code>Wi*Li</code>来计算，而是将所有非叶子结点的权值累加，得到的结果也是 <code>WPL</code>.计算过程采用后序遍历的方法。<br>    最后过了，解题过程真是曲折，能力明显不够，C++primer找时间还要继续看呐。</p>
<pre><code>测试结果：
</code></pre><table>
<thead>
<tr>
<th style="text-align:center">测试点</th>
<th>结果</th>
<th>用时(ms)</th>
<th>内存(kB)</th>
<th>得分/满分</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td>答案正确</td>
<td>1</td>
<td>256</td>
<td>17/17</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td>答案正确</td>
<td>1</td>
<td>360</td>
<td>7/7</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td>答案正确</td>
<td>1</td>
<td>240</td>
<td>3/3</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td>答案正确</td>
<td>54</td>
<td>360</td>
<td>1/1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td>答案正确</td>
<td>1</td>
<td>256</td>
<td>1/1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td>答案正确</td>
<td>1</td>
<td>232</td>
<td>1/1</td>
</tr>
</tbody>
</table>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-150803-pat10" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/150803-pat10/" class="article-date">
  	<time datetime="2015-08-03T14:06:06.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/150803-pat10/">04-树5. File Transfer (25)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N = <span class="number">0</span>;  <span class="comment">//the total number of computers in a network</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">FindPosition</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &amp;nodeMap, <span class="keyword">int</span> data)</span></span><br><span class="line"></span>&#123;</span><br><span class="line"><span class="comment">//    int i = data;</span></span><br><span class="line"><span class="comment">//    for(; nodeMap[i] &gt;= 0; i = nodeMap[i]);</span></span><br><span class="line"><span class="comment">//    return i;</span></span><br><span class="line">    <span class="keyword">if</span>(nodeMap[data] &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        nodeMap[data] = FindPosition(nodeMap,nodeMap[data]);<span class="comment">//nodeMap[data];</span></span><br><span class="line">        <span class="keyword">return</span> nodeMap[data];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Find</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &amp;nodeMap, <span class="keyword">int</span> parentNode, <span class="keyword">int</span> childNode)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pNRP = FindPosition(nodeMap, parentNode); <span class="comment">//pNRP = parentNodeRootPosition</span></span><br><span class="line">    <span class="keyword">int</span> cNRP = FindPosition(nodeMap, childNode);    <span class="comment">//cNRP = childNodeRootPosition</span></span><br><span class="line">    <span class="keyword">if</span>(pNRP != cNRP )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &amp;nodeMap, <span class="keyword">int</span> parentNode, <span class="keyword">int</span> childNode)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pNRP = FindPosition(nodeMap, parentNode);</span><br><span class="line">    <span class="keyword">int</span> cNRP = FindPosition(nodeMap, childNode);</span><br><span class="line">    <span class="keyword">if</span>(pNRP != cNRP)    <span class="comment">//如果不在同一个集合里，则合并</span></span><br><span class="line">    &#123;</span><br><span class="line">        nodeMap[parentNode] = cNRP;</span><br><span class="line">        --N;</span><br><span class="line">        <span class="comment">//根结点的父结点是负数，绝对值代表该集合个数</span></span><br><span class="line"><span class="comment">/*        if(nodeMap[pNRP] &gt;= nodeMap[cNRP])  //pNRP所在的集合元素较少，将pNRP所在集合元素加入cNRP所在集合</span><br><span class="line">        &#123;</span><br><span class="line">            nodeMap[cNRP] -= 1;</span><br><span class="line">            nodeMap[parentNode] = cNRP;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            nodeMap[pNRP] -= 1;</span><br><span class="line">            nodeMap[childNode] = pNRP;</span><br><span class="line">        &#125;</span><br><span class="line">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; nodeMap; <span class="comment">//&lt;data,&lt;position,parent&gt;&gt;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        nodeMap[i] = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> state;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; state)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(state == <span class="string">'S'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> parentNode = <span class="number">0</span>, childNode = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; parentNode &gt;&gt; childNode;</span><br><span class="line">        <span class="keyword">if</span>(state == <span class="string">'C'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(Find(nodeMap, parentNode, childNode))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"yes"</span> &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"no"</span> &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(state == <span class="string">'I'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Union(nodeMap, parentNode, childNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    cout &lt;&lt; (countNum == 1? "The network is connected." : "There are " + itoa(countNum) + " components.") &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">if</span>(N == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"The network is connected."</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"There are "</span> &lt;&lt; N &lt;&lt; <span class="string">" components."</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>看完mooc，按照视频里老师所说的方法是过测试样例没问题，但是后面有测试点就会运行超时，本想着建立一个10002大小的数组是用内存换时间，觉得不好，就没有用，使用map来做，但是还是过不了，然后就参考<a href="http://blog.csdn.net/xkzju2010/article/details/46356743" target="_blank" rel="external">别人AC的代码</a>,最后发现人家直接搞个10002的数组比我这map还快不说，内存占用还小。本题主要是<code>FindPosition</code>算法，如果用老师说的，运行超时，最后我仿照别人的思路，每次find的时候自动调整树，将一棵树的所有子结点都指向根结点，这样就AC了。<br>测试结果：<br>|测试点|    结果|    用时(ms)|    内存(kB)|    得分/满分|<br>|:—:|<br>|0    |答案正确|    1|    180    |7/7<br>|1    |答案正确|    1|    180    |7/7<br>|2    |答案正确|    1|    308    |1/1<br>|3    |答案正确|    2|    692    |1/1<br>|4    |答案正确|    35|    692    |4/4<br>|5    |答案正确|    39|    768    |4/4<br>|6    |答案正确|    36|    820    |1/1</p>
<p>这里贴一个<a href="http://www.cnblogs.com/clevercong/p/4192953.html" target="_blank" rel="external">别人的代码</a>,他用的和我上面参考的那篇博客方法差不多，利用<strong>父结点等于自身下标就是根节点，每次find都会更新树，将树的所有子孙结点全部指向根结点。</strong>结合上面那篇博客所用的计数方法，每合并一次，根结点就少一个，所以采用<code>--N</code>，这样就不用最后遍历整个数组了。<br>不过这个代码用的是动态数组，按道理来说动态数组因为没有固定大小，不会浪费内存，占用内存小，但是实际测试发现，动态数组消耗的内存要比静态数组大，所以以后写代码如果题目的数据有上限，就直接声明最大上限大小的静态数组。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> ElementType int</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *S;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">( ElementType X )</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(S[X]==X)</span><br><span class="line">        <span class="keyword">return</span> X;</span><br><span class="line">    <span class="keyword">return</span> S[X]=Find(S[X]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">( ElementType X1, ElementType X2)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Root1, Root2;</span><br><span class="line">    Root1 = Find(X1);</span><br><span class="line">    Root2 = Find(X2);</span><br><span class="line">    <span class="keyword">if</span> ( Root1 != Root2 )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(S[Root1] &lt; S[Root2])</span><br><span class="line">        &#123;</span><br><span class="line">            S[Root2] = Root1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            S[Root1] = Root2;</span><br><span class="line">       &#125;</span><br><span class="line">      --num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; num;</span><br><span class="line">    <span class="keyword">char</span> choose;</span><br><span class="line">    <span class="keyword">int</span> c1, c2;</span><br><span class="line">    S = <span class="keyword">new</span> <span class="keyword">int</span>[num+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=num; i++)   <span class="comment">// 初始化</span></span><br><span class="line">        S[i] = i;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; choose;</span><br><span class="line">        <span class="keyword">if</span>(choose == <span class="string">'S'</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; c1 &gt;&gt; c2;</span><br><span class="line">        <span class="keyword">if</span>(choose == <span class="string">'I'</span>)</span><br><span class="line">            Union(c1, c2);</span><br><span class="line">        <span class="keyword">if</span>(choose == <span class="string">'C'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(Find(c1) == Find(c2))</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"yes"</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"no"</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">         <span class="built_in">cout</span> &lt;&lt; <span class="string">"The network is connected."</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"There are "</span> &lt;&lt; num &lt;&lt; <span class="string">" components."</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT-data-structure/">PAT data structure</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 ocxs
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>